<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalogo Generale - Sorpresine</title>
    <link rel="stylesheet" href="style.css?v=4.0&t=20251020">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
</head>
<body>

     <!-- Navbar Moderna con icona profilo -->
    <!-- Navbar Moderna -->
  <nav class="navbar">
    <div class="nav-container" style="display: flex; align-items: center; justify-content: space-between;">
      <!-- Colonna 1: Notifiche a sinistra -->
      <div style="flex:1; display: flex; align-items: left;">
  <button class="nav-notifiche" id="nav-notifiche-btn" title="Notifiche" style="margin-left:8px;">
          <span class="notifiche-icon">ğŸ””</span>
          <span class="notifiche-badge" id="notifiche-badge">0</span>
        </button>
      </div>
      <!-- Colonna 2: Brand centrale -->
      <div style="flex:2; display: flex; justify-content: center; align-items: center;">
        <div class="nav-brand">
          <span class="nav-logo">ğŸ</span>
          <span class="nav-title">Catalogando</span>
        </div>
      </div>
      <!-- Colonna 3: Profilo a destra -->
      <div style="flex:1; display: flex; justify-content: flex-end; align-items: right;">
        <button class="nav-profile" onclick="location.href='profile.html'" title="Il mio Profilo">
          <div class="profile-avatar">
            <span id="user-initials">?</span>
          </div>
          <span class="profile-name" id="nav-user-name">Utente</span>
        </button>
      </div>
    </div>
  </nav>

        <div class="container" style="padding-bottom:90px;">

        <main class="main-content">
         <!-- Barra di ricerca e filtri (stile collection) -->
        <div class="search-filters">
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="ğŸ” Cerca serie o oggetti..." />
                <button id="clear-search" class="clear-btn">âœ•</button>
            </div>
            <button id="toggle-filters" class="filter-toggle">ğŸ”§ Filtri</button>
            <div class="filters" id="filters-container" style="display: none;">
                <select id="filter-year" class="filter-select">
                <option value="">Tutti gli anni</option>
                </select>
                <select id="filter-nation" class="filter-select">
                <option value="">Tutte le nazioni</option>
                </select>
                <select id="sort-by" class="filter-select">
                <option value="nome">Ordina per nome</option>
                <option value="nazione">Ordina per nazione</option>
                    <option value="anno-cres">Ordina per anno crescente</option>
                    <option value="anno-desc">Ordina per anno decrescente</option>
                </select>
            </div>
        </div>
                
            <div id="catalog-container" class="series-list">
                <div id="brand-title" class="brand-title"></div>
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Caricamento catalogo...</p>
                </div>
            </div>

            <!-- Vetrina Marche -->
    <div id="brand-showcase" class="brand-list"></div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="home.html" class="nav-item">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-label">Home</span>
            </a>
            <a href="catalog.html" class="nav-item">
                <span class="nav-icon">ğŸ“–</span>
                <span class="nav-label">Catalogo</span>
            </a>
            <a href="collection.html" class="nav-item">
                <span class="nav-icon">ğŸ“¦</span>
                <span class="nav-label">Collezione</span>
            </a>
        </nav>
    </div>

    <!-- Supabase -->
<!-- Ordine corretto degli script Supabase e JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabaseClient.js"></script>
  <script src="notifiche.js"></script>
    <script src="notificationsManager_polling.js"></script>
    <!-- Script -->
    <script src="catalog.js?v=4.0&t=20251020&bust=cache"></script>
    <script src="navbar.js?v=4.0&t=20251020"></script>
  <script src="title-animations.js"></script>
  <script src="component-animations.js"></script>
</body>
</html>
